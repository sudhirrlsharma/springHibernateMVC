package cybage.dao;

import java.math.BigDecimal;
import java.util.List;

import org.junit.Assert;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;
import org.springframework.test.context.support.AnnotationConfigContextLoader;

import cybage.spring.configurtion.ApplicationConfig;
import cybage.spring.configurtion.AspectConfig;
import cybage.spring.model.Beer;
import cybage.spring.model.DomesticBeer;

@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(loader = AnnotationConfigContextLoader.class, classes = {ApplicationConfig.class,AspectConfig.class})
public class BeerDaoImplTest {

	private BeerDao beerDao;

	@Autowired
	protected void setBeerDao(BeerDao beerDao) {
		this.beerDao = beerDao;
	}


	@Test
	public void testGetListBeer() {
		List beers = beerDao.getListBeer();

		for (int i = 0; i < beers.size(); i++) {
			Beer beer = (Beer) beers.get(i);
			System.out.println("id " + beer.getId());
			System.out.println("brand " + beer.getBrand());
			System.out.println("price " + beer.getPrice());
			Assert.assertTrue(true);

			System.out.println("--------------------------------------");
		}

	}

	@Test
	public void testGetBeer() {
		Beer beer = beerDao.getBeer(new Long(19));
		System.out.println("id " + beer.getId());
		System.out.println("brand " + beer.getBrand());
		System.out.println("price " + beer.getPrice());
		Assert.assertTrue(true);

	}

	@Test
	public void testSaveBeer() {
		Beer beer = new DomesticBeer();
		beer.setBrand("international");
		beer.setPrice(new BigDecimal(1000.50));
		beerDao.saveBeer(beer);
	}

}
